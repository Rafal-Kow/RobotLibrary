&ACCESS  RV
&PARAM DISKPATH = VW_User/Applikation/Reibelement
&PARAM TPVW_VERSION = 8.3.8
&REL 200
DEFDAT  vw_rw_usr_s PUBLIC
; 
;*-----------------------------------------------------*
;*Technologiepaket Reibelement                         *
;*                                                     *
;*Konzernstandard                                      *
;*Bearbeiter: W. Lehmeier I/PG-C61                     *
;*                                                     *
;* Erstellt am:                                        *
;* 2015.02.20 LE                                       *
;*                                                     *
;*------------------------------------------------------
; 
;FOLD USER_Version
STRUC _Tech_Reibelement CHAR Name[20],INT Datum
DECL _Tech_Reibelement Tech_Reibelement
;ENDFOLD
; 
;FOLD Konfiguration Ein-Ausgaenge RW1
; 
GLOBAL BOOL MIT_RW1=FALSE
; 
;Zangencode an RW 1
SIGNAL RW1_ZCode $OUT[1289]  TO $OUT[1291]
;Sollwerte an RW 1
SIGNAL RW1_sollpos $OUT[1297]  TO $OUT[1311]
;Istwerte von RW 1
SIGNAL RW1_istpos $IN[1297]  TO $IN[1311]
; 
GLOBAL INT F_m_RW1=478
GLOBAL INT F_RW1_Sammel=479
GLOBAL INT F_RW1_nio=480
; 
GLOBAL INT I_RW1_oh_Fue=177
GLOBAL INT I_RW1_bereit=1265
GLOBAL INT I_RW1_Re_aus=1267
GLOBAL INT I_RW1_TPos_g=1271
GLOBAL INT I_RW1_Auto=1273
GLOBAL INT I_RW1_ref=1274
GLOBAL INT I_RW1_aktiv=1275
GLOBAL INT I_RW1_IPos_g=1276
GLOBAL INT I_RW1_auf=1277
GLOBAL INT I_RW1_zu=1278
GLOBAL INT I_RW1_Vorz=1312
GLOBAL INT I_RW1_LBit=1281
GLOBAL INT I_RW1_GCodW1=1294
GLOBAL INT I_RW1_GCodW2=1295
GLOBAL INT I_RW1_GCodW4=1296
GLOBAL INT I_RW1_W_SZ=1313
GLOBAL INT I_RW1_W_Schm=1314
GLOBAL INT I_RW1_FKontr=1315
GLOBAL INT I_RW1_F_Ziel=1316
GLOBAL INT I_RW1_F_Vak=1317
GLOBAL INT I_RW1_F_Weg=1318
GLOBAL INT I_RW1_F_PrzAb=1319
GLOBAL INT I_RW1_F_VEinz=1320
GLOBAL INT I_RW1_F_Zuf=1321
GLOBAL INT I_RW1_F_Brems=1322
GLOBAL INT I_RW1_F_PrzSt=1323
GLOBAL INT I_RW1_F_AblSt=1324
GLOBAL INT I_RW1_F_Prganw=1325
GLOBAL INT I_RW1_Sammel=1328
; 
GLOBAL INT O_RW1_P_akt=177
GLOBAL INT O_RW1_nio=179
GLOBAL INT O_RW1_W_SZ=180
GLOBAL INT O_RW1_W_Schm=181
GLOBAL INT O_RW1_FKontr=182
GLOBAL INT O_RW1_F_Vak=183
GLOBAL INT O_RW1_F_Weg=184
GLOBAL INT O_RW1_F_PrzAb=185
GLOBAL INT O_RW1_F_VEinz=186
GLOBAL INT O_RW1_F_Zuf=187
GLOBAL INT O_RW1_F_Brems=188
GLOBAL INT O_RW1_F_PrzSt=189
GLOBAL INT O_RW1_F_AblSt=190
GLOBAL INT O_RW1_Sammel=192
GLOBAL INT O_RW1_Fe_Res=1265
GLOBAL INT O_RW1_E_Mode=1266
GLOBAL INT O_RW1_Re_aus=1267
GLOBAL INT O_RW1_oh_Fue=1268
GLOBAL INT O_RW1_S_TPos=1270
GLOBAL INT O_RW1_TPos_u=1271
GLOBAL INT O_RW1_R_Hand=1272
GLOBAL INT O_RW1_R_Auto=1273
GLOBAL INT O_RW1_ref=1274
GLOBAL INT O_RW1_FRG=1275
GLOBAL INT O_RW1_SPos_g=1276
GLOBAL INT O_RW1_t_auf=1279
GLOBAL INT O_RW1_t_zu=1280
GLOBAL INT O_RW1_LBit=1281
GLOBAL INT O_RW1_D_Teach=4012
GLOBAL INT O_RW1_D_Ref=4013
;ENDFOLD
; 
;FOLD Konfiguration Ein-Ausgaenge RW2
; 
GLOBAL BOOL MIT_RW2=FALSE
; 
;Zangencode an RW 2
SIGNAL RW2_ZCode $OUT[1214]  TO $OUT[1216]
;Sollwerte an RW 2
SIGNAL RW2_sollpos $OUT[1217]  TO $OUT[1231]
;Istwerte von RW 2
SIGNAL RW2_istpos $IN[1217]  TO $IN[1231]
; 
GLOBAL INT F_m_RW2=483
GLOBAL INT F_RW2_Sammel=484
GLOBAL INT F_RW2_nio=485
; 
GLOBAL INT I_RW2_oh_Fue=193
GLOBAL INT I_RW2_bereit=1185
GLOBAL INT I_RW2_Re_aus=1187
GLOBAL INT I_RW2_TPos_g=1191
GLOBAL INT I_RW2_Auto=1193
GLOBAL INT I_RW2_ref=1194
GLOBAL INT I_RW2_aktiv=1195
GLOBAL INT I_RW2_IPos_g=1196
GLOBAL INT I_RW2_auf=1199
GLOBAL INT I_RW2_zu=1200
GLOBAL INT I_RW2_Vorz=1232
GLOBAL INT I_RW2_LBit=1201
GLOBAL INT I_RW2_GCodW1=1214
GLOBAL INT I_RW2_GCodW2=1215
GLOBAL INT I_RW2_GCodW4=1216
GLOBAL INT I_RW2_W_SZ=1233
GLOBAL INT I_RW2_W_Schm=1234
GLOBAL INT I_RW2_FKontr=1235
GLOBAL INT I_RW2_F_Ziel=1236
GLOBAL INT I_RW2_F_Vak=1237
GLOBAL INT I_RW2_F_Weg=1238
GLOBAL INT I_RW2_F_PrzAb=1239
GLOBAL INT I_RW2_F_VEinz=1240
GLOBAL INT I_RW2_F_Zuf=1241
GLOBAL INT I_RW2_F_Brems=1242
GLOBAL INT I_RW2_F_PrzSt=1243
GLOBAL INT I_RW2_F_AblSt=1244
GLOBAL INT I_RW2_F_Prganw=1245
GLOBAL INT I_RW2_Sammel=1248
; 
GLOBAL INT O_RW2_P_akt=193
GLOBAL INT O_RW2_nio=195
GLOBAL INT O_RW2_W_SZ=196
GLOBAL INT O_RW2_W_Schm=197
GLOBAL INT O_RW2_FKontr=198
GLOBAL INT O_RW2_F_Vak=199
GLOBAL INT O_RW2_F_Weg=200
GLOBAL INT O_RW2_F_PrzAb=201
GLOBAL INT O_RW2_F_VEinz=202
GLOBAL INT O_RW2_F_Zuf=203
GLOBAL INT O_RW2_F_Brems=204
GLOBAL INT O_RW2_F_PrzSt=205
GLOBAL INT O_RW2_F_AblSt=206
GLOBAL INT O_RW2_Sammel=208
GLOBAL INT O_RW2_Fe_Res=1185
GLOBAL INT O_RW2_E_Mode=1186
GLOBAL INT O_RW2_Re_aus=1187
GLOBAL INT O_RW2_oh_Fue=1188
GLOBAL INT O_RW2_S_TPos=1190
GLOBAL INT O_RW2_R_Hand=1192
GLOBAL INT O_RW2_R_Auto=1193
GLOBAL INT O_RW2_ref=1194
GLOBAL INT O_RW2_FRG=1195
GLOBAL INT O_RW2_SPos_g=1196
GLOBAL INT O_RW2_TPos_u=1197
GLOBAL INT O_RW2_t_auf=1199
GLOBAL INT O_RW2_t_zu=1200
GLOBAL INT O_RW2_LBit=1201
GLOBAL INT O_RW2_D_Teach=4010
GLOBAL INT O_RW2_D_Ref=4011
;ENDFOLD
; 
GLOBAL BOOL HAN_FKT_RW1=FALSE
GLOBAL BOOL HAN_FKT_RW2=FALSE
; 
;FOLD Zangenfunktion
GLOBAL BOOL HA1_FKT_RW1=FALSE
GLOBAL BOOL HA2_FKT_RW1=FALSE
GLOBAL BOOL HA1_FKT_RW2=FALSE
GLOBAL BOOL HA2_FKT_RW2=FALSE
GLOBAL BOOL TA1_AKT_RW1=FALSE
GLOBAL BOOL TA1_AKT_RW2=FALSE
;ENDFOLD
; 
;FOLD Lebensbit RW
BOOL LBitState[2]
LBitState[1]=FALSE
LBitState[2]=FALSE
BOOL RW_LBitFeh[2]
RW_LBitFeh[1]=FALSE
RW_LBitFeh[2]=FALSE
; 
;Lebensbit an RW-Steuerung --- Ausgaenge
INT LBitToRW[2]
LBitToRW[1]=1281
LBitToRW[2]=1201
; 
;Lebensbit von RW-Steuerung --- Eingaenge
INT LBitFromRW[2]
LBitFromRW[1]=1281
LBitFromRW[2]=1201
; 
INT LBitTimeCnt[2]
LBitTimeCnt[1]=-1
LBitTimeCnt[2]=-1
INT ErrRWNr=-1
;ENDFOLD
; 
;FOLD Meldungsausgabe
ENUM RWS_MsgType StateMsg,QuitMsg,NotifyMsg
GLOBAL INT n_RWS_Handle[100]
GLOBAL INT n_RWR_Handle[100]
INT nMsgNum=0
INT RemMsgNum=0
;ENDFOLD
; 
ENDDAT

&ACCESS  RV
&PARAM DISKPATH = VW_User/Applikation/Bolzen
&PARAM TPVW_VERSION = 8.3.8
&REL 202
DEFDAT  vw_bz_usr_s PUBLIC
; 
;*-----------------------------------------------------*
;*Technologiepaket Bolzenschweissen                    *
;*                                                     *
;*Konzernstandard                                      *
;*Bearbeiter: W. Lehmeier I/PG-C61                     *
;*                                                     *
;* Erstellt am:                                        *
;* 2015.02.09 LE                                       *
;*------------------------------------------------------
; 
;FOLD USER_Version
STRUC _Tech_Bolzen CHAR Name[20],INT Datum
DECL _Tech_Bolzen Tech_Bolzen
;ENDFOLD
; 
;FOLD Bolzensteuerung 1
GLOBAL BOOL MIT_Bolzen_1=FALSE
GLOBAL BOOL BZ1_HM_BAW_1=FALSE
GLOBAL BOOL BZ1_HM_BAW_2=FALSE
GLOBAL BOOL BZ1_HM_BAW_3=FALSE
GLOBAL BOOL BZ1_HM_BAW_4=FALSE
GLOBAL BOOL BZ1_HM_BAW_5=FALSE
GLOBAL BOOL LBitBZ1Rem=FALSE
GLOBAL BOOL BZ1_LBitFeh=FALSE
; 
GLOBAL INT F_m_BZ1=545
GLOBAL INT F_BZ1_Sammel=399
; 
GLOBAL INT I_BZ1_o_Proz=217
GLOBAL INT I_BZ1_Bereit=1697
GLOBAL INT I_BZ1_Sammel=1699
GLOBAL INT I_BZ1_LBit=1700
GLOBAL INT I_BZ1_P_aTol=1701
GLOBAL INT I_BZ1_W_Warn=1702
GLOBAL INT I_BZ1_Standz=1704
GLOBAL INT I_BZ1_BAW1=1708
GLOBAL INT I_BZ1_BAW2=1709
GLOBAL INT I_BZ1_BAW3=1710
GLOBAL INT I_BZ1_BAW4=1711
GLOBAL INT I_BZ1_BAW5=1712
GLOBAL INT I_BZ1_SK1_R=1729
GLOBAL INT I_BZ1_SK2_R=1730
GLOBAL INT I_BZ1_SK3_R=1731
GLOBAL INT I_BZ1_SK4_R=1732
GLOBAL INT I_BZ1_SK5_R=1733
GLOBAL INT I_BZ1_P_aTo1=1737
GLOBAL INT I_BZ1_P_aTo2=1738
GLOBAL INT I_BZ1_P_aTo3=1739
GLOBAL INT I_BZ1_P_aTo4=1740
GLOBAL INT I_BZ1_P_aTo5=1741
; 
GLOBAL INT O_BZ1_W_Warn=219
GLOBAL INT O_BZ1_Standz=220
GLOBAL INT O_BZ1_P_aTol=221
GLOBAL INT O_BZ1_BAW=222
GLOBAL INT O_BZ1_Bereit=223
GLOBAL INT O_BZ1_Sammel=224
GLOBAL INT O_BZ1_o_Proz=1698
GLOBAL INT O_BZ1_LBit=1700
GLOBAL INT O_BZ1_E_Mode=1706
GLOBAL INT O_BZ1_Hand=1707
GLOBAL INT O_BZ1_Start1=1737
GLOBAL INT O_BZ1_Start2=1738
GLOBAL INT O_BZ1_Start3=1739
GLOBAL INT O_BZ1_Start4=1740
GLOBAL INT O_BZ1_Start5=1741
; 
;ENDFOLD
; 
;FOLD Bolzensteuerung 2
GLOBAL BOOL MIT_Bolzen_2=FALSE
GLOBAL BOOL BZ2_HM_BAW_1=FALSE
GLOBAL BOOL BZ2_HM_BAW_2=FALSE
GLOBAL BOOL BZ2_HM_BAW_3=FALSE
GLOBAL BOOL BZ2_HM_BAW_4=FALSE
GLOBAL BOOL BZ2_HM_BAW_5=FALSE
GLOBAL BOOL LBitBZ2Rem=FALSE
GLOBAL BOOL BZ2_LBitFeh=FALSE
; 
GLOBAL INT F_m_BZ2=546
GLOBAL INT F_BZ2_Sammel=400
; 
GLOBAL INT I_BZ2_o_Proz=193
GLOBAL INT I_BZ2_Bereit=1745
GLOBAL INT I_BZ2_Sammel=1747
GLOBAL INT I_BZ2_LBit=1748
GLOBAL INT I_BZ2_P_aTol=1749
GLOBAL INT I_BZ2_W_Warn=1750
GLOBAL INT I_BZ2_Standz=1752
GLOBAL INT I_BZ2_BAW1=1756
GLOBAL INT I_BZ2_BAW2=1757
GLOBAL INT I_BZ2_BAW3=1758
GLOBAL INT I_BZ2_BAW4=1759
GLOBAL INT I_BZ2_BAW5=1760
GLOBAL INT I_BZ2_SK1_R=1777
GLOBAL INT I_BZ2_SK2_R=1778
GLOBAL INT I_BZ2_SK3_R=1779
GLOBAL INT I_BZ2_SK4_R=1780
GLOBAL INT I_BZ2_SK5_R=1781
GLOBAL INT I_BZ2_P_aTo1=1785
GLOBAL INT I_BZ2_P_aTo2=1786
GLOBAL INT I_BZ2_P_aTo3=1787
GLOBAL INT I_BZ2_P_aTo4=1788
GLOBAL INT I_BZ2_P_aTo5=1789
; 
GLOBAL INT O_BZ2_W_Warn=195
GLOBAL INT O_BZ2_Standz=196
GLOBAL INT O_BZ2_P_aTol=197
GLOBAL INT O_BZ2_BAW=198
GLOBAL INT O_BZ2_Bereit=199
GLOBAL INT O_BZ2_Sammel=200
GLOBAL INT O_BZ2_o_Proz=1746
GLOBAL INT O_BZ2_LBit=1748
GLOBAL INT O_BZ2_E_Mode=1754
GLOBAL INT O_BZ2_Hand=1755
GLOBAL INT O_BZ2_Start1=1785
GLOBAL INT O_BZ2_Start2=1786
GLOBAL INT O_BZ2_Start3=1787
GLOBAL INT O_BZ2_Start4=1788
GLOBAL INT O_BZ2_Start5=1789
;ENDFOLD
; 
;**** VW -spezifischer Teil Anfang ****
; 
;FOLD Bolzensteuerung mit Rotationskopf
GLOBAL BOOL MIT_Bolzen_3=FALSE
GLOBAL BOOL BZ3_HM_BAW_1=FALSE
GLOBAL BOOL LBitBZ3Rem=TRUE
; 
;Programmnummer (notwendig fuer Zugriff in T1 und T2 fuer Bolzennachladen)
GLOBAL INT BZ3_P_Nr=25316
;Programm-Nr an Bolzensteuerung mit Rotationskopf
SIGNAL BZ3_P_Nr_Bus $OUT[2641]  TO $OUT[2656]
; 
;Winkelpositionen Soll - Ist
GLOBAL REAL BZ3_Winkel_Soll=90.0000
GLOBAL REAL BZ3_Winkel_Ist=90.0000
;Feeder-ID an Bolzensteuerung mit Rotationskopf
SIGNAL BZ3_Feeder_ID_Bus $OUT[2637]  TO $OUT[2640]
;Siganldeklaration Winkelposition
SIGNAL I_BZ3_WK_POS $IN[2673]  TO $IN[2688]
SIGNAL O_BZ3_WK_POS $OUT[2673]  TO $OUT[2688]
; 
GLOBAL INT BZ3_Feeder_Vorgabe=0
; 
GLOBAL INT F_m_BZ3=707
GLOBAL INT F_BZ3_Sammel=401
GLOBAL INT F_BZ3_NL_erl=402
GLOBAL INT F_BZ3_SOLL_IST=403
; 
GLOBAL INT I_BZ3_o_Proz=193
GLOBAL INT I_BZ3_Bereit=2625
GLOBAL INT I_BZ3_Sammel=2627
GLOBAL INT I_BZ3_LBit=2628
GLOBAL INT I_BZ3_P_iTol=2629
GLOBAL INT I_BZ3_W_Warn=2630
GLOBAL INT I_BZ3_Standz=2632
GLOBAL INT I_BZ3_BAW1=2658
GLOBAL INT I_BZ3_SK1_R=2657
; 
GLOBAL INT O_BZ3_W_Warn=195
GLOBAL INT O_BZ3_Standz=196
GLOBAL INT O_BZ3_P_iTol=197
GLOBAL INT O_BZ3_BAW=198
GLOBAL INT O_BZ3_Bereit=199
GLOBAL INT O_BZ3_Sammel=200
GLOBAL INT O_BZ3_o_Proz=2626
GLOBAL INT O_BZ3_LBit=2628
GLOBAL INT O_BZ3_E_Mode=2634
GLOBAL INT O_BZ3_Start1=2662
GLOBAL INT O_BZ3_R_Hand=2635
GLOBAL INT O_BZ3_BewFRG=2665
GLOBAL INT O_BZ3_SloMo=2666
;ENDFOLD
; 
;**** VW -spezifischer Teil Ende ****
; 
;FOLD Lebensbit BZ
BOOL LBitState[3]
LBitState[1]=FALSE
LBitState[2]=FALSE
LBitState[3]=FALSE
BOOL BZ_LBitFeh[3]
BZ_LBitFeh[1]=FALSE
BZ_LBitFeh[2]=FALSE
BZ_LBitFeh[3]=FALSE
; 
;Lebensbit an BZ-Steuerung --- Ausgaenge
INT LBitToBZ[3]
LBitToBZ[1]=1700
LBitToBZ[2]=1748
LBitToBZ[3]=2628
; 
;Lebensbit von BZ-Steuerung --- Eingaenge
INT LBitFromBZ[3]
LBitFromBZ[1]=1700
LBitFromBZ[2]=1748
LBitFromBZ[3]=2628
; 
INT LBitTimeCnt[3]
LBitTimeCnt[1]=-1
LBitTimeCnt[2]=-1
LBitTimeCnt[3]=-1
INT ErrBZNr=-1
;ENDFOLD
; 
;FOLD Meldungsausgabe
ENUM BZS_MsgType StateMsg,QuitMsg,NotifyMsg
GLOBAL INT n_BZS_Handle[100]
GLOBAL INT n_BZR_Handle[100]
INT nMsgNum=0
INT RemMsgNum=0
;ENDFOLD

ENDDAT
